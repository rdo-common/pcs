From 4d8b5102f6504b2faf8219e799244f37dde2db10 Mon Sep 17 00:00:00 2001
From: Tomas Jelinek <tojeline@redhat.com>
Date: Wed, 3 Aug 2016 14:55:31 +0200
Subject: [PATCH] doc: fixes regarding clufter

---
 pcs/pcs.8    |  8 ++++----
 pcs/usage.py | 15 +++++++++------
 2 files changed, 13 insertions(+), 10 deletions(-)

diff --git a/pcs/pcs.8 b/pcs/pcs.8
index 0e8e967..09c0235 100644
--- a/pcs/pcs.8
+++ b/pcs/pcs.8
@@ -625,13 +625,13 @@ checkpoint restore <checkpoint_number>
 Restore cluster configuration to specified checkpoint.
 .TP
 import\-cman output=<filename> [input=<filename>] [\fB\-\-interactive\fR] [output\-format=corosync.conf|cluster.conf] [dist=<dist>]
-Converts CMAN cluster configuration to Pacemaker cluster configuration.  Converted configuration will be saved to 'output' file.  To send the configuration to the cluster nodes the 'pcs config restore' command can be used.  If \fB\-\-interactive\fR is specified you will be prompted to solve incompatibilities manually.  If no input is specified /etc/cluster/cluster.conf will be used.  You can force to create output containing either cluster.conf or corosync.conf using the output-format option.  Optionally you can specify output version by setting 'dist' option e. g. rhel,6.8 or redhat,7.3 or debian,7 or ubuntu,trusty.  If 'dist' is not specified, it defaults to this node's version if that matches output-format, otherwise redhat,6.7 is used for cluster.conf and redhat,7.1 is used for corosync.conf.
+Converts CMAN cluster configuration to Pacemaker cluster configuration.  Converted configuration will be saved to 'output' file.  To send the configuration to the cluster nodes the 'pcs config restore' command can be used.  If \fB\-\-interactive\fR is specified you will be prompted to solve incompatibilities manually.  If no input is specified /etc/cluster/cluster.conf will be used.  You can force to create output containing either cluster.conf or corosync.conf using the output-format option.  Optionally you can specify output version by setting 'dist' option e. g. rhel,6.8 or redhat,7.3 or debian,7 or ubuntu,trusty.  You can get the list of supported dist values by running the "clufter \fB\-\-list-dists\fR" command.  If 'dist' is not specified, it defaults to this node's version if that matches output-format, otherwise redhat,6.7 is used for cluster.conf and redhat,7.1 is used for corosync.conf.
 .TP
 import\-cman output=<filename> [input=<filename>] [\fB\-\-interactive\fR] output\-format=pcs-commands|pcs-commands-verbose [dist=<dist>]
 Converts CMAN cluster configuration to a list of pcs commands which recreates the same cluster as Pacemaker cluster when executed.  Commands will be saved to 'output' file.  For other options see above.
 .TP
-export pcs\-commands|pcs\-commands\-verbose output=<filename> [dist=<dist>]
-Creates a list of pcs commands which upon execution recreates the current cluster running on this node.  Commands will be saved to 'output' file or written to stdout if 'output' is not specified.  Use pcs\-commands to get a simple list of commands, whereas pcs\-commands\-verbose creates a list including comments and debug messages.  Optionally specify output version by setting 'dist' option e. g. rhel,6.8 or redhat,7.3 or debian,7 or ubuntu,trusty.  If 'dist' is not specified, it defaults to this node's version.
+export pcs\-commands|pcs\-commands\-verbose [output=<filename>] [dist=<dist>]
+Creates a list of pcs commands which upon execution recreates the current cluster running on this node.  Commands will be saved to 'output' file or written to stdout if 'output' is not specified.  Use pcs\-commands to get a simple list of commands, whereas pcs\-commands\-verbose creates a list including comments and debug messages.  Optionally specify output version by setting 'dist' option e. g. rhel,6.8 or redhat,7.3 or debian,7 or ubuntu,trusty.  You can get the list of supported dist values by running the "clufter \fB\-\-list-dists\fR" command.  If 'dist' is not specified, it defaults to this node's version.
 .SS "pcsd"
 .TP
 certkey <certificate file> <key file>
@@ -644,7 +644,7 @@ clear-auth [\fB\-\-local\fR] [\fB\-\-remote\fR]
 Removes all system tokens which allow pcs/pcsd on the current system to authenticate with remote pcs/pcsd instances and vice\-versa.  After this command is run this node will need to be re\-authenticated with other nodes (using 'pcs cluster auth').  Using \fB\-\-local\fR only removes tokens used by local pcs (and pcsd if root) to connect to other pcsd instances, using \fB\-\-remote\fR clears authentication tokens used by remote systems to connect to the local pcsd instance.
 .SS "node"
 .TP
-attribute [[<node>] [\fB\-\-name\fR <attr>] | <node> <name>=<value> ...]
+attribute [[<node>] [\fB\-\-name\fR <name>] | <node> <name>=<value> ...]
 Manage node attributes.  If no parameters are specified, show attributes of all nodes.  If one parameter is specified, show attributes of specified node.  If \fB\-\-name\fR is specified, show specified attribute's value from all nodes.  If more parameters are specified, set attributes of specified node.  Attributes can be removed by setting an attribute without a value.
 .TP
 maintenance [\fB\-\-all\fR] | [<node>]...
diff --git a/pcs/usage.py b/pcs/usage.py
index 7cfb33e..ef60b64 100644
--- a/pcs/usage.py
+++ b/pcs/usage.py
@@ -1182,10 +1182,11 @@ Commands:
         /etc/cluster/cluster.conf will be used.  You can force to create output
         containing either cluster.conf or corosync.conf using the output-format
         option.  Optionally you can specify output version by setting 'dist'
-        option e. g. rhel,6.8 or redhat,7.3 or debian,7 or ubuntu,trusty.
-        If 'dist' is not specified, it defaults to this nodei's version if that
-        matches output-format, otherwise redhat,6.7 is used for cluster.conf
-        and redhat,7.1 is used for corosync.conf.
+        option e. g. rhel,6.8 or redhat,7.3 or debian,7 or ubuntu,trusty.  You
+        can get the list of supported dist values by running the "clufter
+        --list-dists" command.  If 'dist' is not specified, it defaults to this
+        node's version if that matches output-format, otherwise redhat,6.7 is
+        used for cluster.conf and redhat,7.1 is used for corosync.conf.
 
     import-cman output=<filename> [input=<filename>] [--interactive]
             output-format=pcs-commands|pcs-commands-verbose [dist=<dist>]
@@ -1200,8 +1201,10 @@ Commands:
         pcs-commands to get a simple list of commands, whereas
         pcs-commands-verbose creates a list including comments and debug
         messages.  Optionally specify output version by setting 'dist' option
-        e. g. rhel,6.8 or redhat,7.3 or debian,7 or ubuntu,trusty.  If 'dist'
-        is not specified, it defaults to this node's version.
+        e. g. rhel,6.8 or redhat,7.3 or debian,7 or ubuntu,trusty.  You can get
+        the list of supported dist values by running the "clufter --list-dists"
+        command.  If 'dist' is not specified, it defaults to this node's
+        version.
 """
     if pout:
         print(sub_usage(args, output))
-- 
1.8.3.1

