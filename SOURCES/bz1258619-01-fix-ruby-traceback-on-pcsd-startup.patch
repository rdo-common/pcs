commit 4d4ad9fc870998f4e70256ef62371f38da3a4855
Author:     Chris Feist <cfeist@redhat.com>
AuthorDate: Mon Aug 31 15:13:46 2015 -0500
Commit:     Chris Feist <cfeist@redhat.com>
CommitDate: Mon Aug 31 15:13:46 2015 -0500

    Fix tracebacks during pcsd shutdowns

diff --git a/pcsd/ssl.rb b/pcsd/ssl.rb
index e948aef..97d131e 100644
--- a/pcsd/ssl.rb
+++ b/pcsd/ssl.rb
@@ -67,14 +67,20 @@ end
 server = ::Rack::Handler::WEBrick
 trap(:INT) do
   puts "Shutting down (INT)"
-  server.shutdown
-  #exit
+  if server.instance_variable_get("@server")
+    server.shutdown
+  else
+    exit
+  end
 end
 
 trap(:TERM) do
   puts "Shutting down (TERM)"
-  server.shutdown
-  #exit
+  if server.instance_variable_get("@server")
+    server.shutdown
+  else
+    exit
+  end
 end
 
 require 'pcsd'
